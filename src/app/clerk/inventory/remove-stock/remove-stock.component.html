<nb-layout>
    <nb-layout-header>
        <a href="#" (click)="toggle()"><i class="nb-menu"></i></a>
        <h4>Add or remove stock</h4>

        <div style="position: absolute; right: 30px;">
            <nb-user (click)="load()" style="display: inline-block;" name="{{clerkMail}}"></nb-user>

        </div>

    </nb-layout-header>
    <nb-sidebar state="compacted">
        <nb-menu [items]="items"></nb-menu>

    </nb-sidebar>

    <nb-layout-column class="colored-column-success">


        <nb-card>
            <ng2-smart-table [settings]="settings" [source]="itemsofInventory"
                (userRowSelect)="onUserRowSelect($event)">
            </ng2-smart-table>
        </nb-card>
        <div style="padding: 5px;">
            <input type="text" nbInput placeholder="Item Id" [(ngModel)]="itemId">

        </div>
        <div style="padding: 5px;">
            <input type="text" nbInput placeholder="Item Name" [(ngModel)]="itemName">

        </div>
        <div style="padding: 5px;">
            <input type="text" nbInput placeholder="Item Quantity" [(ngModel)]="itemQty">

        </div>
        <div>

            <nb-select style="width:300px ;" size="large" placeholder="Order ID" name="fieldName"
                [(ngModel)]="selectedOrderId">
                <nb-option *ngFor="let item of currentAppointments" [value]='item'>
                    {{item}}
                </nb-option>

            </nb-select>
        </div>
        <div style="padding: 5px;">
            <button (click)="RemoveItem()" nbButton status="primary"
                [disabled]="itemId == '' || itemName =='' || itemQty ==0 ||  selectedOrderId == null">Add </button>
        </div>



        <div *ngIf="rows.length != 0">
            <nb-card>
                <table id="items">
                    <tr>
                        <th *ngFor="let column of headers">
                            {{column}}
                        </th>
                    </tr>
                    <tr *ngFor="let row of rows">
                        <td *ngFor="let column of headers">

                            {{row[column]}}

                        </td>
                    </tr>
                </table>


            </nb-card>
            <button nbButton status="primary" (click)='RemoveAllitemsToStock()'>Remove items from stock</button>

        </div>
    </nb-layout-column>
</nb-layout>